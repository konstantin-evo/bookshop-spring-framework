<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${book.title}">n/a</title>
    <meta name="description" content="Описание страницы">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link th:href="@{/spring-frontend/favicon.ico}" rel="shortcut icon">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-SemiBold.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-Light.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-Medium.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-ExtraBold.woff2" as="font" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/fonts.min.css?v=87821122">
    <link rel="stylesheet" href="/assets/css/basic.min.css?v=87821122">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/assets/css/extra.min.css?v=87821122">
    <link rel="stylesheet" href="/assets/css/download.css">
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <script defer src="/assets/js/scripts.min.js?v=87821122"></script>
    <script defer src="/assets/js/local.js"></script>
    <script defer src="/assets/js/uploadbookimage.js"></script>
    <script defer src="/assets/js/downloadbook.js"></script>
</head>
<body class="Site">
<header th:replace="~{fragments/header_fragment :: headFragment}"></header>
<div class="Middle">
    <div class="wrap">
        <main class="Middle-main">
            <ul class="breadcrumbs">
                <li class="breadcrumbs-item"><a
                        th:href="@{/}"
                        th:text="#{topbar.main}">n/a</a>
                </li>
                <li class="breadcrumbs-item"><a
                        th:href="@{/genres}"
                        th:text="#{main.book}">n/a</a>
                </li>
                <li class="breadcrumbs-item breadcrumbs-item_current">
                    <span th:text="${book.title}">n/a</span>
                </li>
            </ul>
            <div class="Product">
                <div class="ProductCard">
                    <div class="ProductCard-look">
                        <form id="imgForm" method="POST" enctype="multipart/form-data"
                              th:action="@{/books/{slug}/img/save(slug=${book.slug})}">
                            <div class="ProductCard-photo" id="uploadbutton">
                                <img th:src="${book.image}" alt="card.jpg"/>
                            </div>
                            <input type="file" name="file" id="dialog" style="display: none" accept="image/*"/>
                        </form>
                    </div>
                    <div class="ProductCard-desc">
                        <div class="ProductCard-header">
                            <h1 class="ProductCard-title" th:text="${book.title}">n/a
                            </h1>
                            <div class="ProductCard-author">
                                <span class="ProductCard-titleProp"
                                      th:text="#{book.author}"></span>&#32;
                                <a th:href="@{/authors/{id}(id=${book.author.id})}"
                                   th:text="${book.author.getFirstName}+' '+${book.author.getLastName}">n/a</a>
                            </div>
                            <!-- Current Book rating Section (start) -->
                            <div class="ProductCard-rating">
                                <span class="ProductCard-titleProp"
                                      th:text="#{main.rating}+':'">n/a</span>
                                <button class="trigger trigger_dropdown" type="button">
                                    <div class="Rating Rating_noStyleLink">
                                        <span class="Rating-stars">
                                            <th:block th:each="i : ${#numbers.sequence(1, 5)}">
                                                <span th:replace="~{fragments/rate_book_fragment ::
                                                        StarFragment(rate=${bookRate.rate}, count=${i})}">
                                                </span>
                                            </th:block>
                                    </span>
                                        <span class="Rating-title"
                                              th:text="'('+${bookRate.rate}+')'">
                                        </span>
                                    </div>
                                    <!-- Section "Distribution of rates" (modal window) -->
                                    <div class="modal modal_compression modal_dropdown">
                                        <div class="modal-window"><a class="modal-close"
                                                                     href="#"><span></span><span></span></a>
                                            <strong class="modal-title"
                                                    th:text="#{book.rate.distribution}">n/a
                                            </strong>
                                            <div class="RatingGroup">
                                                <th:block th:each="i : ${#numbers.sequence(5, 1)}">
                                                <span th:replace="~{fragments/rate_distrib_fragment ::
                                                        RateFragment(rate=${bookRate}, count=${i})}">
                                                </span>
                                                </th:block>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End of Section "Distribution of rates" -->
                                </button>
                            </div>
                            <!-- Current Book rating Section (end) -->
                            <!-- Section for setting the rating of the book by the user (start) -->
                            <div class="ProductCard-assessment">
                                <span class="ProductCard-titleProp"
                                      th:text="#{book.rate}">n/a</span>
                                <span class="Rating Rating_input"
                                      th:attr="data-bookid=${book.slug}">
                                            <th:block th:each="i : ${#numbers.sequence(1, 5)}">
                                                <span th:replace="~{fragments/rate_book_fragment ::
                                                        StarFragment(rate=${userRate}, count=${i})}">
                                                </span>
                                                <input name="rating" type="radio"
                                                       th:attr="value=${i}"/>
                                            </th:block>
                                    </span>
                                </span>
                            </div>
                            <!-- End of Section for setting the rating of the book by the user-->
                            <div class="ProductCard-tags">
                                <span class="ProductCard-titleProp"
                                      th:text="#{book.tags}">n/a</span>
                                <span th:each="tag : ${book.tags}">
                                    <a th:href="@{/tags/{id}(id=${tag.id})}"
                                       th:text="${tag.name}"></a>
                                    <span>,&#32;</span>
                                </span>
                            </div>
                            <div class="ProductCard-cost">
                                <span class="ProductCard-titleProp"
                                      th:text="#{book.price}">n/a</span>
                                <span class="ProductCard-priceOld"
                                      th:text="'₽'+${book.priceOld}">n/a</span>
                                <span class="ProductCard-price"
                                      th:text="'₽'+${book.price}">n/a</span>
                            </div>
                        </div>
                        <div class="ProductCard-text">
                            <p th:text="${book.description}"></p>
                        </div>
                        <div class="ProductCard-cart">
                            <div class="ProductCard-cartElement">
                                <button class="btn btn_primary btn_outline" data-sendstatus="KEPT"
                                        th:attr="data-bookid=${book.slug}"
                                        data-btntype="check" data-btnradio="buyblock" data-check="false"
                                        data-alttext="Отложена">
                                    <span class="btn-icon"><img
                                            src="/assets/img/icons/heart.svg" alt="heart.svg"/>
                                    </span>
                                    <span class="btn-content"
                                          th:text="#{book.kept}">n/a
                                    </span>
                                </button>
                            </div>
                            <div class="ProductCard-cartElement">
                                <button class="btn btn_primary btn_outline" data-sendstatus="CART"
                                        data-btntype="check" data-btnradio="buyblock" data-check="false"
                                        data-alttext="В корзине"
                                        th:attr="data-bookid=${book.slug}">
                                    <span class="btn-icon"><img
                                            src="/assets/img/icons/shopping-basket.svg"
                                            alt="shopping-basket.svg"/>
                                    </span>
                                    <span class="btn-content"
                                          th:text="#{book.buy}">n/a
                                    </span>
                                </button>
                            </div>
                        </div>
                        <div class="ProductCard-cart">
                            <div class="ProductCard-cartElement">
                                <a class="btn btn_primary btn_outline" href="#">
                                    <span class="btn-icon">
                                    <img src="/assets/img/icons/download.svg" alt="download.svg"/>
                                    </span>
                                    <span class="btn-content"
                                          th:text="#{book.download}">n/a
                                    </span>
                                </a>
                            </div>
                            <div class="ProductCard-cartElement">
                                <button class="btn btn_primary btn_outline" data-sendstatus="ARCHIVED"
                                        data-bookid="[1111]" data-btntype="check" data-btnradio="buyblock"
                                        data-check="false" data-alttext="Вернуть из архива"><span class="btn-icon"><img
                                        src="/assets/img/icons/archive.svg" alt="archive.svg"/></span>
                                    <span class="btn-content"
                                          th:text="#{book.archive}">n/a</span>
                                </button>
                            </div>
                        </div>
                        <div id="download-popup">
                            <p th:text="#{book.download.link}">n/a</p>
                            <div th:each="bookFile : ${book.fileList}">
                                <a th:href="${'/books/download/' + bookFile.hash}"
                                   th:text="${bookFile.fileType}"></a>
                            </div>
                            <span id="download-popup-close" class="close">&times;</span>
                        </div>
                        <div id="download-popup-overlay"></div>
                    </div>
                </div>

                <div class="Product-comments">
                    <div class="Product-comments-header">
                        <h3 class="Product-comments-title"
                            th:text="#{book.review}">n/a</h3>
                        <span class="Product-comments-amount"
                              th:text="'567 ' + #{book.review.all}">n/a</span>
                    </div>
                </div>
                <div class="Comments">
                    <div class="Comment">
                        <div class="Comment-column Comment-column_pict">
                            <div class="Comment-avatar">
                            </div>
                        </div>
                        <div class="Comment-column">
                            <header class="Comment-header">
                                <div>
                                    <strong class="Comment-title">Александр Кузнецов<span class="Comment-rating"><span
                                            class="Rating Rating_comment"><span class="Rating-stars"><span
                                            class="Rating-star Rating-star_view">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span><span class="Rating-star Rating-star_view">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span><span class="Rating-star">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span><span class="Rating-star">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span><span class="Rating-star">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span></span></span></span>
                                    </strong><span class="Comment-date">17.04.2020 16:40</span>
                                </div>
                            </header>
                            <div class="Comment-content">
                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit doli. Aenean commodo ligula
                                    eget dolor. Aenean massa. Cumtipsu sociis natoque penatibus et magnis dis parturient
                                    montesti, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque
                                    eutu, pretiumem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel,
                                    aliquet nec, vulputate eget, arcu. In enim justotuio, rhoncus ut loret, imperdiet a,
                                    venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer
                                    tincidunt. Cras dapibus. Vivamus element semper nisi. Aenean vulputate eleifend
                                    tellus. Aenean leo ligula, porttitor eu, consequat vitae.
                                </p>
                                <div class="Comment-footer">
                                    <div class="Comment-appeal">
                                        <button class="btn btn_white btn_like" data-btntype="check" data-check="false"
                                                data-btnradio="two2" data-likeid="1111"><span class="btn-icon"><img
                                                src="/assets/img/icons/comment/like.svg" alt="like.svg"/></span><span
                                                class="btn-content">200</span>
                                        </button>
                                        <button class="btn btn_white btn_dislike" data-btntype="check"
                                                data-check="false" data-btnradio="two2" data-likeid="1111"><span
                                                class="btn-icon"><img src="/assets/img/icons/comment/dislike.svg"
                                                                      alt="dislike.svg"/></span><span
                                                class="btn-content">100</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="Comment">
                        <div class="Comment-column Comment-column_pict">
                            <div class="Comment-avatar">
                            </div>
                        </div>
                        <div class="Comment-column">
                            <header class="Comment-header">
                                <div>
                                    <strong class="Comment-title">Дмитрий Петров<span class="Comment-rating"><span
                                            class="Rating Rating_comment"><span class="Rating-stars"><span
                                            class="Rating-star Rating-star_view">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span><span class="Rating-star Rating-star_view">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span><span class="Rating-star Rating-star_view">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span><span class="Rating-star Rating-star_view">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span><span class="Rating-star">
                              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18">
                                <g>
                                  <g>
                                    <path fill="#ffc000"
                                          d="M9.5 14.925L3.629 18l1.121-6.512L0 6.875l6.564-.95L9.5 0l2.936 5.925 6.564.95-4.75 4.613L15.371 18z"></path>
                                  </g>
                                </g>
                              </svg></span></span></span></span>
                                    </strong><span class="Comment-date">17.04.2020 16:40</span>
                                </div>
                            </header>
                            <div class="Comment-content">
                                <div class="Spoiler">
                                    <div class="Spoiler-visible">
                                        <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit doli. Aenean commodo
                                            ligula eget dolor. Aenean massa. Cumtipsu sociis natoque penatibus et magnis
                                            dis parturient montesti, nascetur ridiculus mus. Donec quam felis, ultricies
                                            nec, pellentesque eutu, pretiumem. Nulla consequat massa quis enim. Donec
                                            pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim
                                            justotuio, rhoncus ut loret, imperdiet a, venenatis vitae, justo. Nullam
                                            dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus.
                                            Vivamus element semper nisi. Aenean vulputate eleifend tellus. Aenean leo
                                            ligula, porttitor eu, consequat vitae.
                                        </p>
                                    </div>
                                    <div class="Spoiler-hide">
                                        <p>Первая книга - сборник повестей и рассказов "Большой поток" - посвящена людям
                                            леспромхоза. Автор книг "Рассказы" (1954), "Неразменное счастье. Повести и
                                            рассказы" (1962). Наиболее известная его повесть "Девчата" (1961) переведена
                                            на пятнадцать языков. По написанному им же сценарию был поставлен
                                            одноименный фильм, до сих пор имеющий огромный успех.
                                        </p>
                                    </div>
                                    <div class="Comment-footer">
                                        <div class="Comment-appeal">
                                            <button class="btn btn_white btn_like" data-btntype="check"
                                                    data-check="false" data-btnradio="one1" data-likeid="333"><span
                                                    class="btn-icon"><img src="/assets/img/icons/comment/like.svg"
                                                                          alt="like.svg"/></span><span
                                                    class="btn-content">500</span>
                                            </button>
                                            <button class="btn btn_white btn_dislike" data-btntype="check"
                                                    data-check="false" data-btnradio="one1" data-likeid="333"><span
                                                    class="btn-icon"><img src="/assets/img/icons/comment/dislike.svg"
                                                                          alt="dislike.svg"/></span><span
                                                    class="btn-content">50</span>
                                            </button>
                                        </div>
                                        <button class="Spoiler-trigger btn btn_primary btn_nr" type="button"
                                                th:attr="data-showtext=#{book.review.showtext}, data-hidetext=#{book.review.hidetext}">
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<footer th:replace="~{fragments/footer_fragment :: footFragment}"></footer>
<script src="/assets/plg/jQuery/jquery-3.5.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</body>
</html>